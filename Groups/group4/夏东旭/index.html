<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="index.css"/>
	<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
</head>
<body>
	<div class="header">
		<ul class="navbar">
			<li><a href="">课程</a>
				<div class="drop">
					<ul>
						<li><a href="#">视频</a></li>
						<li><a href="#">课件</a></li>
						<li><a href="#">讲师</a></li>
					</ul>
				</div>
				
			</li>
			<li><a href="#">报名</a>
				<div class="drop">
					<ul>
						<li><a href="#">关于</a></li>
						<li><a href="#">班级</a></li>
						<li><a href="#">收费</a></li>
						<li><a href="#">预约</a></li>
					</ul>
				</div>
				
			</li>
			<li><a href="">作品</a></li>
			<li><a href="">社区</a></li>
			<li><a href="">博客</a>
				<div class="drop">
					<ul>
						<li><a href="#">关于</a></li>
						<li><a href="#">班级</a></li>
						<li><a href="#">收费</a></li>
						<li><a href="#">预约</a></li>
					</ul>
				</div>
				
			</li>
			<li><a href="">登陆</a>
				<div class="drop">
					<ul>
						<li><a href="#">登陆</a></li>
						<li><a href="#">注册</a></li>
					</ul>
				</div>
				
			</li>
		</ul>
		<img src="images/header-icon.png" alt="" class="header-icon">
		<img src="images/mountain1.png" alt="" class="mountain1">
		<img src="images/mountain2.png" alt="" class="mountain2">
		<img src="images/mountain3.png" alt="" class="mountain3">
		<img src="images/meteor.png" alt="" class="meteor1">
		<img src="images/meteor.png" alt="" class="meteor2">
		<img src="images/galaxy.png" alt="" class="galaxy">
		<img src="images/galaxy.png" alt="" class="galaxy after">
		<img src="images/star-middle.png" alt="" class="star1 ">
		<img src="images/star-small.png" alt="" class="star2">
		<img src="images/star-small.png" alt="" class="star3">
		<img src="images/star-small.png" alt="" class="star4">
		<div class="semi-circle1">
			<img src="images/new-world-gate.gif" alt="" class="header-mons">
		</div>
		<div class="semi-circle2">
			<img src="images/talk-to-me.png" alt="" class="header-mons">
		</div>
	</div>
	<div class="content">
		<div class="layout">
			<h2>免费公开课</h2>
			<div class="carousel">
				<ul class="free-open-class ct clearfix">
					<li >
						<a href="" class="bg1">
						
						</a>
					</li>
					<li class="active" 
						><a href="" class="bg2 ">
						
						</a>
					</li>
					<li >
						<a href="" class="bg3">
						
						</a>
					</li>
					<li>
						<a href="" class="bg4">
						
						</a>
					</li>
					<li>
						<a href="" class="bg5">
						
						</a>
					</li>
					<span class="arror pre disabled"></span>
					<span class="arror next"></span>
				</ul>
			</div>
			
		</div>
		<div class="intro">
			<h2>饥人谷•最有爱的前端互助社区</h2>
			<p>饥人谷是前百度、阿里、腾讯前端工程师创立的前端学习互助社区，推崇动手、动脑、互助、有爱</p>
			<p>同时提供系统的前端学习课程，课程内容紧贴互联网公司工作实践</p>
		</div>

		<div class="content-mountain">
			<div>
				<img src="images/content-mountain.png"" alt="" class="mountain-body">
				<img src="images/mons1.gif" alt="" class="mons1">
				<img src="images/mons2.gif" alt="" class="mons2">
				<img src="images/mons3.gif" alt="" class="mons3">
				<img src="images/mons4.gif" alt="" class="mons4">
			</div>
		</div>
		<div class="content-bg">
			<div class="content-bg1">
			
			</div>

			<div class="mag clearfix">
				<img src="images/content-mag.png" alt="">
				<div class="mag-desc">
					<h2>饥人谷技术周刊</h2>
					<p>在这里，每天都有新的惊喜，让你爱上coding</p>
					<ul>
						<li>精选学员博客</li>
						<li>技术文章</li>
						
					</ul>
					<ul>
						<li>谷中趣事</li>
						<li>点滴记录</li>
					</ul>
				</div>
			</div>
			
		</div>

		<div class="next-lesson">
			<h2>课程预告</h2>
			<div class="carousel">
				<ul class="ct clearfix"> 
					<li>
						<a href="#" class="bg1"></a>
					</li>
					<li>
						<a href="#" class="bg2"></a>
					</li>
					<li>
						<a href="#" class="bg3"></a>
					</li>
					<li>
						<a href="#" class="bg4"></a>
					</li>
					<span class="arror pre disabled"></span>
					<span class="arror next"></span>
				</ul>

				<ul class="nav">
					<li class="active">轻分享·免费</li>
					<li>预约免费试听</li>
					<li>Javscript问答</li>
					<li>新班报名中</li>
				</ul>
			</div>
		</div>
		
	</div>

	<div class="footer">


	</div>


	<script>
		var Carousel=function(jQueryObeject,isFirst){
			this.isFirst = isFirst;
			this.carousel=jQueryObeject,
			this.ct=this.carousel.find(".ct"),
			this.item=this.ct.find("li"),
			this.next=this.ct.find(".next"),
			this.pre=this.ct.find(".pre");
			this.nav=this.carousel.find('.nav');
		}
		Carousel.prototype={
			curIndex:0,
			playing:false,
			clock:0,

			init:function(){
				this.preset();
				this.bindEvent();
			},
			preset:function(){
				this.ct.css({width:this.item.outerWidth()*this.item.length});
			},
			bindEvent:function(){
				var that=this;
				this.next.on("click",function() {	
					that.play(1,"fast");
				});
				this.pre.on("click",function() {
					that.play(-1,"fast");
				});
				if(this.nav.length){
					this.nav.on("click","li",function(){
						that.play($(this).index()-that.curIndex);
					})
				}
			},
			play:function(distance,speed){
				var that=this;
				if(this.isFirst){
					if((this.curIndex===0&&distance===-1)||(this.curIndex===this.item.length-3&&distance===1)){
						return;
					}
				}else if((this.curIndex===0&&distance===-1)||(this.curIndex===this.item.length-1&&distance===1)){
					return;
				}
				this.pre.removeClass('disabled');
				this.next.removeClass('disabled');
				if(this.playing){
					return;
				}
				this.playing=true;
				this.item.eq(this.curIndex+1).removeClass('active');
				this.item.eq(this.curIndex+1+distance).addClass('active');
				this.ct.animate({'margin-left':-(that.curIndex+distance)*this.item.outerWidth()},speed,function(){
					that.nav.find('li').eq(that.curIndex).removeClass('active');
					that.curIndex+=distance;
					if(that.nav.length){

						that.nav.find('li').eq(that.curIndex).addClass('active');
					}


					if(that.curIndex===0){
						that.pre.addClass('disabled');
					}
					if(that.isFirst){
						if(that.curIndex===that.item.length-3){
							that.next.addClass('disabled');
						}
					}else if(that.curIndex===that.item.length-1){
						that.next.addClass('disabled');
					}
					// console.log(that.curIndex);
					that.playing=false;
				});
			},	
	
			// autoPlay:function(){
			// 	var that=this;
			// 	this.clock=setInterval(function(){
			// 		that.play(1,"fast");
			// 	},3000)
			// },
			// stop:function(){
			// 	clearInterval(this.clock);
			// }
		}

		// 	$(".carousel").each(function(){
		// 	new Carousel($(this),true).init();
		// })
		new Carousel($(".carousel").eq(0),true).init();
		new Carousel($(".carousel").eq(1),false).init();

	</script>
</body>
</html>